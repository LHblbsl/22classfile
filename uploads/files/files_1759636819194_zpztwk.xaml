<Window x:Class="testdemo.ReadingWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="早晚读" 
        Height="800"  
        Width="830"
        WindowStyle="None"  
        AllowsTransparency="True"
        Background="Transparent"
        Left="0"
        Topmost="True"
        WindowStartupLocation="Manual"
        Opacity="0"
        ShowInTaskbar="False">

    <Window.Resources>
        <!-- 关闭/打开按钮点击动画 - 与作业窗口完全一致 -->
        <Storyboard x:Key="ReadingCloseOpenClickAnimation">
            <!-- 旋转动画 - 角速度由快变慢 -->
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ReadingCloseOpenRotate" 
                     Storyboard.TargetProperty="Angle">
                <EasingDoubleKeyFrame KeyTime="0:0:0.1" Value="180">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <CubicEase EasingMode="EaseOut"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
                <EasingDoubleKeyFrame KeyTime="0:0:0.4" Value="270">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <CubicEase EasingMode="EaseOut"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
                <EasingDoubleKeyFrame KeyTime="0:0:0.7" Value="359">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <CubicEase EasingMode="EaseOut"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
                <EasingDoubleKeyFrame KeyTime="0:0:1.0" Value="360">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <CubicEase EasingMode="EaseOut"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>

            <!-- 弹性缩放动画 -->
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ReadingCloseOpenScale" 
                     Storyboard.TargetProperty="ScaleX">
                <EasingDoubleKeyFrame KeyTime="0:0:0" Value="1"/>
                <EasingDoubleKeyFrame KeyTime="0:0:0.2" Value="0.7">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <ElasticEase EasingMode="EaseOut" Oscillations="2" Springiness="3"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
                <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="1.1">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <ElasticEase EasingMode="EaseOut" Oscillations="1" Springiness="4"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
                <EasingDoubleKeyFrame KeyTime="0:0:1.0" Value="1">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <ElasticEase EasingMode="EaseOut" Oscillations="1" Springiness="3"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>

            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ReadingCloseOpenScale" 
                     Storyboard.TargetProperty="ScaleY">
                <EasingDoubleKeyFrame KeyTime="0:0:0" Value="1"/>
                <EasingDoubleKeyFrame KeyTime="0:0:0.2" Value="0.7">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <ElasticEase EasingMode="EaseOut" Oscillations="2" Springiness="3"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
                <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="1.1">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <ElasticEase EasingMode="EaseOut" Oscillations="1" Springiness="4"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
                <EasingDoubleKeyFrame KeyTime="0:0:1.0" Value="1">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <ElasticEase EasingMode="EaseOut" Oscillations="1" Springiness="3"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>

        <!-- 窗体收缩动画 -->
        <Storyboard x:Key="ReadingWindowShrinkAnimation">
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(Window.Width)">
                <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="80">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <CubicEase EasingMode="EaseInOut"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>

            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ReadingMainScrollViewer" 
                     Storyboard.TargetProperty="Width">
                <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="80">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <CubicEase EasingMode="EaseInOut"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>

            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ReadingButtonCanvas"
                     Storyboard.TargetProperty="(Canvas.Left)">
                <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="0">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <CubicEase EasingMode="EaseInOut"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>

        <!-- 窗体展开动画 -->
        <Storyboard x:Key="ReadingWindowExpandAnimation">
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(Window.Width)">
                <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="830">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <CubicEase EasingMode="EaseInOut"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>

            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ReadingMainScrollViewer" 
                     Storyboard.TargetProperty="Width">
                <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="800">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <CubicEase EasingMode="EaseInOut"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>

            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ReadingButtonCanvas"
                     Storyboard.TargetProperty="(Canvas.Left)">
                <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="0">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <CubicEase EasingMode="EaseInOut"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
        <!-- 删除按钮动画（Reading专属） -->
        <Storyboard x:Key="ReadingDeleteButtonEntranceAnimation">
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity">
                <EasingDoubleKeyFrame KeyTime="0:0:0" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="0:0:0.3" Value="1">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <CubicEase EasingMode="EaseOut"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)">
                <EasingDoubleKeyFrame KeyTime="0:0:0" Value="0.5"/>
                <EasingDoubleKeyFrame KeyTime="0:0:0.3" Value="1">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <ElasticEase EasingMode="EaseOut" Oscillations="1" Springiness="3"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)">
                <EasingDoubleKeyFrame KeyTime="0:0:0" Value="0.5"/>
                <EasingDoubleKeyFrame KeyTime="0:0:0.3" Value="1">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <ElasticEase EasingMode="EaseOut" Oscillations="1" Springiness="3"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>

        <!-- 滑动动画 -->
        <Storyboard x:Key="ReadingSlideLeftAnimation">
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)">
                <EasingDoubleKeyFrame KeyTime="0:0:0.3" Value="-60">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <CubicEase EasingMode="EaseOut"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
        <Storyboard x:Key="ReadingSlideRightAnimation">
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)">
                <EasingDoubleKeyFrame KeyTime="0:0:0.3" Value="0">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <CubicEase EasingMode="EaseOut"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>

        <!-- 新条目入场动画 -->
        <Storyboard x:Key="ReadingNewItemEntranceAnimation">
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity">
                <EasingDoubleKeyFrame KeyTime="0:0:0" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="0:0:0.3" Value="1">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <CubicEase EasingMode="EaseOut"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.Y)">
                <EasingDoubleKeyFrame KeyTime="0:0:0" Value="-30"/>
                <EasingDoubleKeyFrame KeyTime="0:0:0.4" Value="0">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <ElasticEase EasingMode="EaseOut" Oscillations="1" Springiness="3"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>

        <!-- 图片点击动画 -->
        <Storyboard x:Key="ReadingImageClickAnimation">
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity">
                <EasingDoubleKeyFrame KeyTime="0:0:0.1" Value="0.7"/>
                <EasingDoubleKeyFrame KeyTime="0:0:0.3" Value="1"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)">
                <EasingDoubleKeyFrame KeyTime="0:0:0.1" Value="0.95"/>
                <EasingDoubleKeyFrame KeyTime="0:0:0.3" Value="1"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)">
                <EasingDoubleKeyFrame KeyTime="0:0:0.1" Value="0.95"/>
                <EasingDoubleKeyFrame KeyTime="0:0:0.3" Value="1"/>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>

        <!-- 窗口入场动画 -->
        <Storyboard x:Key="ReadingWindowEntranceAnimation">
            <DoubleAnimation Storyboard.TargetProperty="Opacity"
       From="0" To="0.95"
       Duration="0:0:0.5"/>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="readingMainTransform" 
                     Storyboard.TargetProperty="ScaleX">
                <EasingDoubleKeyFrame KeyTime="0:0:0" Value="0.5"/>
                <EasingDoubleKeyFrame KeyTime="0:0:1.2" Value="1">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <ElasticEase EasingMode="EaseOut" Oscillations="2" Springiness="4"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="readingMainTransform" 
                     Storyboard.TargetProperty="ScaleY">
                <EasingDoubleKeyFrame KeyTime="0:0:0" Value="0.5"/>
                <EasingDoubleKeyFrame KeyTime="0:0:1.2" Value="1">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <ElasticEase EasingMode="EaseOut" Oscillations="2" Springiness="4"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>

        <!-- 早晚读大框框样式 -->
        <Style x:Key="ReadingContainerStyle" TargetType="Border">
            <Setter Property="Background" Value="#80FFFFFF"/>
            <Setter Property="BorderBrush" Value="#33E1E5E9"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="40"/>
            <Setter Property="Margin" Value="0,8,0,4"/>
            <Setter Property="Padding" Value="15,12,15,12"/>
            <Setter Property="Width" Value="800"/>
        </Style>
        <!-- 内容文本样式 -->
        <Style x:Key="ReadingContentStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="#333333"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
            <Setter Property="Margin" Value="0,3,0,0"/>
        </Style>
        <!-- 元信息文本样式 -->
        <Style x:Key="ReadingMetaInfoStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="10"/>
            <Setter Property="Foreground" Value="#666666"/>
            <Setter Property="Margin" Value="0,1,0,0"/>
        </Style>
        <!-- 滚动条样式 -->
        <Style x:Key="ReadingScrollBarStyle" TargetType="ScrollBar">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Width" Value="8"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ScrollBar">
                        <Grid>
                            <Track x:Name="PART_Track" IsDirectionReversed="true">
                                <Track.DecreaseRepeatButton>
                                    <RepeatButton Command="ScrollBar.PageUpCommand" 
                                        Background="Transparent" 
                                        BorderThickness="0"
                                        Width="0" Height="0"/>
                                </Track.DecreaseRepeatButton>
                                <Track.IncreaseRepeatButton>
                                    <RepeatButton Command="ScrollBar.PageDownCommand" 
                                        Background="Transparent" 
                                        BorderThickness="0"
                                        Width="0" Height="0"/>
                                </Track.IncreaseRepeatButton>
                                <Track.Thumb>
                                    <Thumb x:Name="Thumb" Background="#80667eea" 
                                  BorderBrush="#40667eea" BorderThickness="1">
                                        <Thumb.Style>
                                            <Style TargetType="Thumb">
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="Thumb">
                                                            <Border CornerRadius="4" 
                                                        Background="{TemplateBinding Background}"
                                                        BorderBrush="{TemplateBinding BorderBrush}"
                                                        BorderThickness="{TemplateBinding BorderThickness}">
                                                                <Border.Effect>
                                                                    <DropShadowEffect Color="#40000000" BlurRadius="4" ShadowDepth="1"/>
                                                                </Border.Effect>
                                                            </Border>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </Thumb.Style>
                                    </Thumb>
                                </Track.Thumb>
                            </Track>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid x:Name="readingMainGrid">
        <Grid.RenderTransform>
            <ScaleTransform x:Name="readingMainTransform" ScaleX="0.5" ScaleY="0.5"/>
        </Grid.RenderTransform>

        <!-- 主滚动区域，包含所有早晚读大框框 -->
        <ScrollViewer x:Name="ReadingMainScrollViewer"
              VerticalScrollBarVisibility="Auto"
              HorizontalAlignment="Center"
              VerticalAlignment="Top"
              Width="800"
              Height="Auto"
              Margin="0,25,0,0">
            <ScrollViewer.Resources>
                <Style TargetType="ScrollBar" BasedOn="{StaticResource ReadingScrollBarStyle}"/>
            </ScrollViewer.Resources>

            <!-- 早晚读容器 -->
            <StackPanel x:Name="ReadingListPanel" 
               HorizontalAlignment="Center"
               VerticalAlignment="Top">
                <!-- 加载提示 -->
                <TextBlock x:Name="ReadingLoadingText" 
                  Text="加载早晚读中..." 
                  HorizontalAlignment="Center" 
                  VerticalAlignment="Center"
                  Foreground="#666666"
                  FontSize="14"
                  Margin="0,30,0,0"/>
            </StackPanel>
        </ScrollViewer>

        <!-- 控制按钮区域 -->
        <Canvas x:Name="ReadingButtonCanvas" 
                HorizontalAlignment="Right" 
                VerticalAlignment="Top" 
                Margin="0,20,20,0" 
                Width="60"  
                Height="60"
                Background="Transparent">

            <!-- 背景图片 -->
            <Image x:Name="ReadingBackImage"
                   Source="/Clziyuan/back.png"
                   Width="60"  
                   Height="60"
                   RenderTransformOrigin="0.5,0.5"
                   IsHitTestVisible="False"
                   Canvas.Left="0">
                <Image.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform/>
                        <SkewTransform/>
                        <RotateTransform/>
                        <TranslateTransform/>
                    </TransformGroup>
                </Image.RenderTransform>
            </Image>

            <!-- 关闭/打开按钮 -->
            <Image x:Name="ReadingCloseOpenImage"
                   Source="/Clziyuan/guanbi.png"
                   Width="48"  
                   Height="48"
                   RenderTransformOrigin="0.5,0.5"
                   MouseDown="ReadingCloseOpenImage_MouseDown"
                   Cursor="Hand"
                   Canvas.Left="6"    
                   Canvas.Top="6"
                   IsHitTestVisible="True">
                <Image.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform x:Name="ReadingCloseOpenScale" ScaleX="1" ScaleY="1"/>
                        <SkewTransform/>
                        <RotateTransform x:Name="ReadingCloseOpenRotate" Angle="0"/>
                        <TranslateTransform/>
                    </TransformGroup>
                </Image.RenderTransform>
            </Image>
        </Canvas>

        <!-- 底部信息 -->
        <StackPanel Orientation="Horizontal" 
                   HorizontalAlignment="Center" 
                   VerticalAlignment="Bottom"
                   Margin="0,0,0,10">
            <TextBlock Text="最后更新: " FontSize="10" Foreground="#999999"/>
            <TextBlock x:Name="ReadingLastUpdateText" Text="--" FontSize="10" Foreground="#999999"/>
        </StackPanel>
    </Grid>
</Window>